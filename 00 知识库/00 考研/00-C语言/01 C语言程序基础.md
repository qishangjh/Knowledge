---
课程名称: C语言
一轮复习情况: 未开始
二轮复习情况: 未开始
最后复习时间: 2025年3月10日 19:33
---

## 01 C语言程序基础

> [!NOTE] 学习目标
> *   了解C语言程序的基本构成和常用"词汇"。
> *   掌握C语言中各种数据类型（整型、浮点型、字符型）的特点和使用。
> *   理解常量和变量的概念，并学会如何定义和使用它们。
> *   熟悉C语言中的算术运算符，并能正确运用。
> *   掌握标准输入 `scanf()` 和标准输出 `printf()` 函数的基本用法。

### 01-1 C语言词汇：构建程序的"砖瓦"

C语言，就像我们日常交流的语言一样，也有它自己的一套"词汇"。这些词汇是构成C程序的基本元素。

#### 1. 关键字 (Keywords / Reserved Words)

关键字是C语言中**具有特殊含义**的单词，它们被C语言本身保留，不能用作变量名、函数名或其他标识符。它们就像编程世界的"交通标志"，每个都有特定的功能。

* **特点**：全部是小写字母。
* **常见例子**：
    * `int`：定义整数类型变量。
    * `char`：定义字符类型变量。
    * `float`：定义单精度浮点数类型变量。
    * `double`：定义双精度浮点数类型变量。
    * `if`, `else`：条件判断语句。
    * `for`, `while`：循环语句。
    * `return`：函数返回值。
    * `void`：表示空类型或无返回值/参数。
    * `const`：定义常量。
    * `sizeof`：获取数据类型或变量的大小（字节数）。
    * … (还有很多，以后会慢慢遇到哒！)

#### 2. 标识符 (Identifiers)

标识符就是程序中我们自己给变量、函数、数组等**起的名字**。它们是C语言中用户自定义的"词汇"。

* **命名规则**：
    1. 只能由**字母** (a-z, A-Z)、**数字** (0-9) 和**下划线** (`_`) 组成。
    2. **不能以数字开头**。
    3. **不能是C语言的关键字**。
    4. **区分大小写**：`myVar` 和 `MyVar` 是两个不同的标识符。
* **好的命名习惯**：
    * 选择有意义的名称（见名知意）。
    * 使用驼峰命名法 (camelCase, 如 `myVariableName`) 或下划线命名法 (snake_case, 如 `my_variable_name`)。

    > [!EXAMPLE] 合法的标识符  
    > `age`, `name`, `score_1`, `max_value`, `calculateSum`
    > 
    > [!EXAMPLE] 非法的标识符  
    > `1name` (以数字开头)  
    > `my-var` (包含非法字符 `-`)  
    > `int` (是关键字)  
    > `(score)` (包含非法字符 `()`)

#### 3. 运算符 (Operators)

运算符是用来执行特定操作的符号，比如算术运算 (`+`, `-`, `*`, `/`)、比较运算 (`>`, `<`, == )、逻辑运算 (`&&`, `||`) 等。我们后面会专门详细讲解算术运算符哦！

#### 4. 分隔符 / 标点符号 (Punctuation)

在C语言中，各种标点符号都有其特定的作用，用来组织代码结构。

* `;` (分号)：语句结束符，表示一个语句的结束。
* `,` (逗号)：分隔变量声明、函数参数等。
* `{}` (花括号)：定义代码块，如函数体、循环体、条件语句体。
* `()` (圆括号)：用于函数调用、运算符优先级分组、类型转换。
* `[]` (方括号)：用于数组的定义和访问。

#### 5. 常量 (Literals / Constants)

常量是程序运行时**值不能改变**的量。它们是程序中的固定值。

* **字面常量**：直接写出的值，如 `10` (整数), `3.14` (浮点数), `'A'` (字符), `"Hello"` (字符串)。
* **符号常量**：用一个标识符来代表一个常量，有两种方式：
    * **`#define` 预处理指令**：
        `#define PI 3.14159 // 在程序编译前，所有PI都会被替换为3.14159`
    * **`const` 关键字**：
        `const int MAX_SCORE = 100; // 定义一个整型常量MAX_SCORE，它的值不能被修改`
#### 6. 注释 (Comments)
注释是写给程序员看的文字，用来解释代码的功能和逻辑。**编译器会忽略注释**，它们不会被编译进最终的可执行程序中。
* **单行注释**：`、/、/`
```c
   int age = 18; // 这是一条单行注释，解释age变量的含义    
```
* **多行注释**：`/* … */`
   ```c
    /*
     这是一个多行注释的例子。
     它可以跨越多行，用来写比较长的说明。
    */
    ```

> [!TIP] 好习惯
> 及时添加注释是一个非常好的编程习惯，它能让你的代码更容易被自己和他人理解，特别是当你过了一段时间再回来看代码时！

### 01-2 各类数据类型的常量和变量：程序世界的"物种"

在C语言中，数据是程序处理的核心。不同的数据需要不同类型的"容器"来存储，这些容器就是**数据类型**。而**变量**就是这些容器的具体实例，**常量**则是固定不变的值。

#### 1. 数据类型 (Data Types)

数据类型告诉编译器：
1. **这个变量需要占用多少内存空间。**
2. **内存中的这些二进制位应该如何被解释**（是整数、小数还是字符）。

##### (1) 整型 (Integer Types)

用于存储整数，不带小数点的数字。

| 类型           | 典型字节数 (通常) | 范围 (示例，具体取决于系统和编译器)                          | 描述               |
| :------------- | :---------------- | :----------------------------------------------------------- | :----------------- |
| `char`         | 1                 | -128 到 127 或 0 到 255 (作为字符时存储ASCII码)              | 通常用于存储字符，但本质上是小整数 |
| `short`        | 2                 | -32768 到 32767                                              | 短整型             |
| `int`          | 4                 | -2,147,483,648 到 2,147,483,647 (取决于系统，通常为4字节) | 最常用的整型，通常与CPU字长一致 |
| `long`         | 4 或 8            | 至少与 `int` 相同，常为8字节 (在64位系统上)                  | 长整型             |
| `long long`    | 8                 | 约 -9x10^18 到 9x10^18                                       | 至少64位宽，更大的整型 |

* **无符号整型 (Unsigned Integers)**：
    * 在上述类型前加上 `unsigned` 关键字，表示该变量只能存储非负数（0及正数）。
    * 这样可以扩大正数的存储范围。例如，`unsigned int` 的范围是 0 到 4,294,967,295。
    * `unsigned char`, `unsigned short`, `unsigned int`, `unsigned long`, `unsigned long long`。

##### (2) 浮点型 (Floating-point Types)

用于存储带有小数点的数字，也称为实数。

| 类型         | 典型字节数 (通常) | 有效数字位数 (精度) | 范围 (近似)                        | 描述                 |
| :----------- | :---------------- | :------------------ | :--------------------------------- | :------------------- |
| `float`      | 4                 | 6-7 位              | ±3.4e-38 到 ±3.4e+38               | 单精度浮点数         |
| `double`     | 8                 | 15-17 位            | ±1.7e-308 到 ±1.7e+308             | 双精度浮点数，常用，精度高 |
| `long double`| 10 或 12 或 16    | 18-19 位 (通常)     | 范围更大，具体取决于编译器和平台   | 扩展精度浮点数       |

##### (3) 字符型 (Character Type)

* `char`：通常占用1个字节，用于存储单个字符（如 `'A'`, `'b'`, `'5'`, `'+'`)。
* 在内存中，字符实际上是以其对应的**ASCII码**（一个整数）的形式存储的。例如，字符 `'A'` 的ASCII码是65，字符 `'0'` 的ASCII码是48。
* `char` 变量既可以存储字符，也可以存储小整数。

##### (4) 布尔型 (Boolean Type)

C99标准引入了 `<stdbool.h>` 头文件，提供了 `bool` 类型。
* `bool`：可以存储 `true` (通常是1) 或 `false` (通常是0)。
* 不导入 `<stdbool.h>` 时，C语言习惯用整型 `int` 来表示布尔值：`0` 代表假，**非0** 代表真。

##### (5) `void` 类型

* `void` 表示"空类型"或"无类型"。
* **用途**：
    * 表示函数不返回任何值 (`void func(…)`)。
    * 表示函数不接受任何参数 (`func(void)`)。
    * 作为通用指针类型 (`void *`)，它可以指向任何类型的数据，但不能直接解引用，需要强制类型转换。

#### 2. 变量 (Variables)

变量是程序运行时**值可以改变**的量。它们是内存中存储数据的具名"小盒子"。

##### (1) 变量的定义

在使用变量之前，必须先定义它，告诉编译器变量的类型和名称。
* **语法**：`数据类型 变量名;`

    ```c
    int age;        // 定义一个名为age的整型变量
    float price;    // 定义一个名为price的浮点型变量
    char initial;   // 定义一个名为initial的字符型变量
    ```

##### (2) 变量的初始化

在定义变量的同时给它一个初始值。
* **语法**：`数据类型 变量名 = 初始值;`

    ```c
    int score = 95;             // 定义并初始化整型变量score
    double pi = 3.1415926;      // 定义并初始化双精度浮点型变量pi
    char grade = 'A';           // 定义并初始化字符型变量grade
    ```

> [!WARNING] 未初始化变量的风险
> 如果变量只定义而没有初始化，它里面存储的值是**不确定**的（通常是内存中已有的"垃圾值"）。直接使用未初始化的变量是非常危险的，可能导致程序出错或行为异常。所以，**好习惯是：定义变量时尽量初始化它！**

### 01-3 算术运算符：数字的"魔术师"

算术运算符用于执行数学运算，是C语言中最基础的运算符。

#### 1. 基本算术运算符

| 运算符 | 名称     | 示例       | 描述                 |
| :----- | :------- | :--------- | :------------------- |
| `+`    | 加法     | `a + b`    | 求和                 |
| `-`    | 减法     | `a - b`    | 求差                 |
| `*`    | 乘法     | `a * b`    | 求积                 |
| `/`    | 除法     | `a / b`    | 求商                 |
| `%`    | 取模 (取余) | `a % b`    | 求余数，**只能用于整型操作数** |

> [!CAUTION] 除法 (`/`) 和取模 (`%`) 的特殊性
> *   **整数除法**：如果两个操作数都是整型，`/` 运算符执行的是**整数除法**，结果将**截去小数部分**，只保留整数部分。
    ```c
    int result1 = 10 / 3; // result1 为 3 (不是 3.333…)
    int result2 = 7 / 2;  // result2 为 3
    ```
> *   **浮点数除法**：如果至少有一个操作数是浮点型，`/` 运算符将执行**浮点数除法**，结果将是浮点数。
    ```c
    double result3 = 10.0 / 3; // result3 为 3.333…
    double result4 = 7 / 2.0;  // result4 为 3.5
    ```
> *   **取模 (`%`)**：只能用于整型操作数，不能用于浮点型。结果的符号与被除数相同。
    ```c
    int remainder1 = 10 % 3; // remainder1 为 1
    int remainder2 = 7 % 2;  // remainder2 为 1
    int remainder3 = -10 % 3; // remainder3 为 -1
    ```

#### 2. 增量和减量运算符 (Increment / Decrement Operators)

这两个运算符是C语言的特色，用于快速地将变量的值增加或减少1。

* **`++` (自增运算符)**：使变量的值增加1。
* **`--` (自减运算符)**：使变量的值减少1。

它们都有两种形式：前缀和后缀。

| 形式     | 运算符 | 描述                                | 示例 (假设 `x = 5`) |
| :------- | :----- | :---------------------------------- | :----------------- |
| **前缀** | `++x`  | 先自增，再使用变量的值              | `y = ++x;`  -> `x` 变为 6，`y` 变为 6 |
|          | `--x`  | 先自减，再使用变量的值              | `y = --x;`  -> `x` 变为 4，`y` 变为 4 |
| **后缀** | `x++`  | 先使用变量的值，再自增              | `y = x++;`  -> `y` 变为 5，`x` 变为 6 |
|          | `x--`  | 先使用变量的值，再自减              | `y = x--;`  -> `y` 变为 5，`x` 变为 4 |

> [!WARNING] 注意区分前缀和后缀！
> 在表达式中，前缀形式会先改变变量的值，再参与表达式的计算；后缀形式会先使用变量的原值参与表达式计算，然后才改变变量的值。单独使用时，两者效果相同。

#### 3. 运算符优先级和结合性

当一个表达式中包含多个运算符时，C语言会根据**优先级**和**结合性**来决定运算顺序。
* **优先级**：决定哪个运算符先执行。例如，乘除的优先级高于加减。
* **结合性**：当运算符优先级相同时，决定运算方向（从左到右或从右到左）。例如，加减乘除都是从左到右结合。

> [!TIP] 记忆技巧
> 大多数算术运算符的优先级和数学中的一样：乘除优先于加减。如果你不确定，**使用圆括号 `()` 来强制指定运算顺序**，这样代码会更清晰，也更不容易出错。

### 01-4 输入与输出：程序与世界的"对话"

输入和输出 (I/O) 是程序与外部世界交互的桥梁。在C语言中，我们通常使用 `<stdio.h>` 头文件中的标准输入输出函数来实现。

#### 1. `printf()`：标准输出函数

`printf()` (print formatted) 用于将格式化的数据输出到标准输出设备（通常是屏幕）。

* **头文件**：`#include <stdio.h>`
* **基本用法**：

    ```c
    printf("Hello, C Language!\n"); // 输出一个字符串
    ```

    * `\n` 是**转义序列**，表示换行符。
* **格式化输出**：结合**格式控制符**来输出变量的值。

    ```c
    int age = 20;
    float height = 1.75f;
    char initial = 'L';
    printf("我的年龄是 %d 岁，身高 %f 米，姓氏首字母是 %c。\n", age, height, initial);
    ```

* **常用格式控制符**：

| 格式符   | 对应数据类型         | 描述             | 示例                                     |
| :------- | :------------------- | :--------------- | :--------------------------------------- |
| `%d`     | `int`                | 输出十进制整数   | `printf("%d", num);`                     |
| `%f`     | `float`, `double`    | 输出浮点数 (默认6位小数) | `printf("%f", val);`                     |
| `%.nf`   | `float`, `double`    | 输出浮点数，保留n位小数 | `printf("%f", val);` (保留两位小数) |
| `%c`     | `char`               | 输出单个字符     | `printf("%c", ch);`                      |
| `%s`     | 字符串 (字符数组)    | 输出字符串       | `printf("%s", "hello");`                |
| `%x` / `%X` | `int`                | 输出十六进制整数 (小写/大写) | `printf("%x", 255);` (输出ff)          |
| `%o`     | `int`                | 输出八进制整数   | `printf("%o", 8);` (输出10)             |
| `%p`     | 指针                 | 输出内存地址     | `printf("%p", &var);`                   |
| `%%`     |                      | 输出百分号 `(%)` | `printf("100%%");` (输出100%)           |

* **常用转义序列 (Escape Sequences)**：

| 序列 | 含义         |
| :--- | :----------- |
| `\n` | 换行         |
| `\t` | 水平制表符 (Tab) |
| `\\` | 反斜杠 `\`    |
| `\"` | 双引号 `"`    |
| `\'` | 单引号 `'`    |
| `\b` | 退格         |
| `\r` | 回车         |

#### 2. `scanf()`：标准输入函数

`scanf()` (scan formatted) 用于从标准输入设备（通常是键盘）读取数据，并将其存储到变量中。

* **头文件**：`#include <stdio.h>`
* **基本用法**：

    ```c
    int score;
    printf("请输入你的分数：");
    scanf("%d", &score); // 读取一个整数并存入score变量
    printf("你输入的分数是：%d\n", score);
    ```

    > [!WARNING] 关键点：`&` (取地址符)  
    > 在 `scanf()` 中，除了字符串类型 (`%s`) 外，给变量传参时，必须在变量名前加上**取地址运算符 `&`**（例如 `&score`）。这是因为 `scanf()` 需要知道变量在内存中的"家"在哪里，才能把读取到的值放进去。如果你忘记写 `&`，程序很可能会崩溃！这是初学者常犯的错误，小可爱一定要注意哦！

* **常用格式控制符**：与 `printf()` 类似，但也有一些区别。

| 格式符   | 对应数据类型         | 描述                 | 示例                                     |
| :------- | :------------------- | :------------------- | :--------------------------------------- |
| `%d`     | `int`                | 读取十进制整数       | `scanf("%d", &num);`                     |
| `%f`     | `float`              | 读取单精度浮点数     | `scanf("%f", &val_float);`               |
| `%lf`    | `double`             | 读取双精度浮点数     | `scanf("%lf", &val_double);` (`scanf`中`double`用`%lf`!) |
| `%c`     | `char`               | 读取单个字符         | `scanf("%c", &ch);`                      |
| `%s`     | 字符串 (字符数组名)  | 读取字符串 (遇到空格、回车停止) | `scanf("%s", str);` (无需`&`，因为数组名本身就是地址) |

    > [!IMPORTANT] `scanf()` 中 `float` 用 `%f`，`double` 用 `%lf`！
    > 这是 `scanf()` 和 `printf()` 的一个重要区别。在 `printf()` 中，`%f` 可以用于 `float` 和 `double` (因为 `float` 会自动提升为 `double`)。但在 `scanf()` 中，`float` 必须使用 `%f`，而 `double` 必须使用 `%lf`，否则会导致错误或未定义行为。

---
