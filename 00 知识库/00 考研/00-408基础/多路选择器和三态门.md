---
科目:
课程名称:
tags: []
一轮复习情况: 进行中
二轮复习情况: 未开始
三轮复习情况: 未开始
难度:
考频:
备注:
---

# 多路选择器和三态门

 #数字逻辑 #多路选择器 #三态门 #数据通路 #总线 #MUX

> [!NOTE] 学习目标
> *   理解多路选择器 (MUX) 的功能：从多个输入中选择一个输出。
> *   掌握多路选择器的基本结构、图形符号和真值表。
> *   了解多路选择器在计算机中的应用场景：数据通路、指令译码、功能选择。
> *   理解三态门的功能：控制数据是否传输到总线。
> *   掌握三态门的"三态"特性：高电平、低电平、高阻态。
> *   了解三态门在计算机中的应用场景：总线驱动、数据隔离。
> *   理解多路选择器和三态门在构建数据通路和总线系统中的重要作用。

## 01-1 多路选择器 (Multiplexer, MUX)：数据的"交通指挥员"

多路选择器，简称 **MUX**，它的功能就像一个**交通指挥员**，它有多个数据输入端和一个数据输出端，根据一个或多个**选择控制信号**（地址输入），从众多输入中**选择其中一个**，并将被选中的输入传送到唯一的数据输出端。
![[考研学习笔记00-408基础 多路选择器和三态门 今天08_55.png]]

### 1. 基本功能与作用

* **功能**：在多路输入中选择一路输出。
* **作用**：实现数据的选择和路由，是构建数据通路、ALU功能选择、指令译码等复杂逻辑电路的关键组件。

### 2. 结构与符号

#### (1) 基本结构

一个 `2^n` 选1 的多路选择器，意味着它有 `2^n` 个数据输入端，和 `n` 个选择控制端。

* **数据输入端 (Data Inputs)**：`D0, D1, D2, …, D(2^n - 1)`。
* **选择控制端 (Select Inputs)**：`S0, S1, …, S(n-1)`。这些控制输入决定了哪个数据输入被选中。
* **数据输出端 (Data Output)**：`Y`。

#### (2) 图形符号

最常见的是 `4选1` 多路选择器，有4个数据输入和2个选择控制输入。

```
      +-----+
  D0 --|     |
  D1 --|     |-- Y
  D2 --| MUX |
  D3 --|     |
      +-----+
  S0 ---| |
  S1 ---|_| (控制端通常在下方)
```

* 有时也会画成梯形或矩形，内部标有 `MUX` 或 `Sel` 字样。

### 3. 真值表 (以2选1多路选择器为例)

一个 `2选1` 多路选择器有一个选择控制端 `S0`，两个数据输入端 `D0`, `D1`。

| S0 | D0 | D1 | Y (输出) |
| :-: | :-: | :-: | :------- |
| 0 | 0 | 0 | 0        |
| 0 | 0 | 1 | 0        |
| 0 | 1 | 0 | 1        |
| 0 | 1 | 1 | 1        |
| 1 | 0 | 0 | 0        |
| 1 | 0 | 1 | 1        |
| 1 | 1 | 0 | 0        |
| 1 | 1 | 1 | 1        |

* **简化逻辑**：当 `S0=0` 时，`Y=D0`；当 `S0=1` 时，`Y=D1`。
* **逻辑表达式**：`Y = S0' · D0 + S0 · D1` (这里 `S0'` 表示 `S0` 取反)

### 4. 多路选择器的应用

多路选择器在计算机中无处不在，是实现数据路由和功能选择的基础：

* **数据通路中的数据源选择**：
    * ALU的输入端可能连接着多个寄存器、内存数据寄存器，需要MUX来选择ALU的实际操作数。
    * 寄存器的写入端可能连接着ALU的输出、内存数据寄存器等，需要MUX来选择写入寄存器的数据源。
* **ALU的功能选择**：
    * ALU内部的控制逻辑可能也使用MUX，根据控制信号选择执行加法、减法、逻辑与等不同运算。
* **指令译码**：
    * 在某些简化设计中，可以利用MUX来根据指令的操作码选择不同的微操作序列。
* **内存地址选择**：
    * 在分段存储管理中，根据段寄存器和偏移地址选择最终的物理地址。

## 01-2 三态门 (Tri-state Gate/Buffer)：总线的"开关"
![[考研学习笔记00-408基础 多路选择器和三态门 今天08_51.png]]
三态门，也称为三态缓冲器，是一种特殊的门电路，它除了具有逻辑0和逻辑1两种输出状态外，还具有第三种输出状态——**高阻态**。
* **高电平 (High, H / 1)**：正常的逻辑1输出。
* **低电平 (Low, L / 0)**：正常的逻辑0输出。
* **高阻态 (High Impedance, Z)**：
    * 此时输出端呈现**高阻抗**，相当于**断开**了与输出线的连接。
    * 电路就像一个**开路**，既不输出高电平也不输出低电平，不向输出线灌电流，也不从输出线吸电流。
    * 当处于高阻态时，其他设备可以将信号驱动到该输出线，而不会发生冲突。

### 2. 基本功能与作用
* **功能**：控制数据是否能传输通过。
* **作用**：在总线系统中实现**数据隔离**和**多路复用**。允许多个设备共享同一组总线，但在某一时刻只有一个设备能向总线发送数据，其他设备则处于高阻态，避免数据冲突。

### 和非门的区别
"非门"没有控制信号
### 3. 结构与符号

一个三态门通常有一个数据输入端、一个数据输出端和一个控制使能端。

```
      +-----+
  A --|     |-- Y (数据输出)
      |  >  |
      +-----+
  EN ---o (使能控制端)
```

* `A`：数据输入端。
* `Y`：数据输出端。
* `EN`：使能控制端 (Enable)。当 `EN` 为高电平（或低电平，取决于设计）时，门电路正常工作；当 `EN` 为相反电平时，门电路进入高阻态。
* 圆圈 `o` 在 `EN` 端表示低电平使能，没有圆圈表示高电平使能。

### 4. 真值表 (高电平使能的三态缓冲器为例)

| EN | A | Y (输出) |
| :--: | :-: | :------- |
| 0  | 0 | Z (高阻态) |
| 0  | 1 | Z (高阻态) |
| 1  | 0 | 0        |
| 1  | 1 | 1        |

* **逻辑**：只有当使能端 `EN` 满足条件（例如为1）时，输出 `Y` 才跟随输入 `A`；否则，`Y` 处于高阻态。

### 5. 三态门的应用

三态门是构建总线系统和多设备共享总线的基础：

* **总线驱动器**：
    * 允许多个CPU组件（如寄存器、ALU输出、内存数据寄存器）共享同一条内部总线或系统总线。
    * 在任何给定时刻，只有一个三态门的使能端被激活，将数据放到总线上；其他所有三态门都处于高阻态，不影响总线上的数据。
* **内存与I/O设备的接口**：
    * 内存芯片和I/O设备与CPU之间的数据传输，都通过三态门控制对数据总线的访问。
* **数据隔离**：
    * 将不同部分电路隔离开来，防止它们相互干扰。

## 01-3 多路选择器与三态门的配合：构建复杂数据通路

多路选择器和三态门经常协同工作，构建灵活高效的数据通路。

* **MUX用于选择源数据**：例如，选择ALU的两个输入操作数是来自哪个寄存器或内存。
* **三态门用于控制写入**：例如，选择ALU的计算结果应该写入哪个目标寄存器，通过使能对应的三态门，将ALU的输出驱动到指定寄存器的输入端。

**举例：CPU内部单总线数据通路**

在一个单总线结构中，所有寄存器的输出和ALU的输出都通过三态门连接到总线上。寄存器的输入则通过各自的控制逻辑连接到总线。
* 当需要将 `R1` 的内容送到 `ALU` 时，只需要使能 `R1` 对应的三态门，`R1` 的数据就放到了总线上。
* 当 `ALU` 的结果需要写回 `R3` 时，需要使能 `ALU` 输出到总线的那个三态门，并将 `R3` 寄存器的写入使能信号激活，这样 `ALU` 的结果就通过总线写入 `R3` 了。
* 同时，通过多路选择器，ALU可以选择总线上的数据作为其操作数。
